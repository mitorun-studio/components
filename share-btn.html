<!doctype html><!-- Файл share-btn.html -->
<html lang="ru">

<head>
	<meta name="robots" content="noindex, nofollow">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta charset="utf-8">
	<title>Кнопка Поделиться – Компоненты Mitorun Studio</title>
	<meta name="description" content="Описание компонента">
	<meta name="author" content="Oleg Mitorun">

	<link rel="stylesheet" href="mitosite.css">
	<link rel="stylesheet" href="components.css">
	<link rel="icon" type="image/svg+xml" sizes="any" href="img/favicon.svg">

	<style>
/*------------------------------------------------
--- Компонент Кнопка "Поделиться": ---------------
------------------------------------------------*/

.share {
	position: relative;
}

.btn {
	padding: var(--margin-xs) var(--margin-s);
	background-color: var(--color-main);
	color: var(--white);
	text-decoration: none;
	border-radius: var(--border-radius-m);
	cursor: pointer;
}

/* Всплывающее окно: */

.share__popup {
	display: none;
	position: absolute;
	min-width: 200px;
	top: 50px;
	left: 0;
	background-color: var(--bg);
	border-radius: var(--border-radius-m);
	box-shadow: 0px 8px 24px rgba(0, 0, 0, 0.18), 0px 0px 4px rgba(0, 0, 0, 0.1);
	padding-top: 8px;
	padding-bottom: 8px;
	z-index: 9999;
}

.show {
	display: block;
}

/* Стилизация ссылок: */

.share__list {
	list-style: none;
	margin: 0;
	padding: 0;
}

.share__item {
	padding: 2px 8px;
}

.share__item:hover {
	background: rgba(0, 0, 0, 0.05);
}

.share__link {
	display: flex;
	align-items: center;
	font-size: var(--font-size-s);
}

.share__link::before {
	content: '';
	border-radius: 50px;
	width: 24px;
	height: 24px;
	margin-right: var(--margin-xs);
}

/* Иконки для ссылок: */

.vk-link .share__link::before {
	background: content-box url("data:image/svg+xml,%3Csvg viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12.878 17.304c-5.411 0-8.695-3.755-8.823-9.994h2.74c.086 4.583 2.171 6.528 3.77 6.925V7.31h2.627v3.954c1.542-.17 3.155-1.97 3.698-3.954h2.584c-.414 2.441-2.17 4.24-3.412 4.983 1.242.6 3.24 2.17 4.011 5.01h-2.84c-.6-1.898-2.07-3.369-4.04-3.569v3.57h-.315Z' fill='%23fff'/%3E%3C/svg%3E") center / 20px no-repeat #07f;
}

.ok-link .share__link::before {
	background: content-box url("data:image/svg+xml,%3Csvg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M14.83 10.77a3.951 3.951 0 0 1-5.604 0 3.951 3.951 0 0 1 0-5.604 3.95 3.95 0 0 1 5.604 0 3.951 3.951 0 0 1 0 5.604Zm-2.802-4.615c-.494 0-.942.2-1.271.53a1.79 1.79 0 0 0 0 2.542 1.789 1.789 0 0 0 2.543 0 1.789 1.789 0 0 0 0-2.543 1.839 1.839 0 0 0-1.272-.53Zm4.168 5.792 1.166 1.59c.059.082.047.188-.036.247-.977.8-2.119 1.33-3.308 1.613l2.249 4.332c.059.13-.024.271-.165.271H13.7a.206.206 0 0 1-.176-.118l-1.496-3.579-1.507 3.567a.181.181 0 0 1-.176.118H7.943c-.141 0-.224-.153-.165-.27l2.249-4.321a8.262 8.262 0 0 1-3.308-1.613c-.071-.06-.095-.177-.036-.248l1.166-1.589c.07-.094.188-.106.27-.035 1.096.93 2.45 1.542 3.898 1.542s2.79-.6 3.897-1.542c.094-.07.223-.06.282.035Z' fill='%23FFF' fill-rule='evenodd'/%3E%3C/svg%3E") center / 20px no-repeat #f70;
}

.twitter-link .share__link::before {
	background: content-box url("data:image/svg+xml,%3Csvg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M20 7.539a6.56 6.56 0 01-1.885.517 3.294 3.294 0 001.443-1.816 6.575 6.575 0 01-2.085.796 3.283 3.283 0 00-5.593 2.994A9.32 9.32 0 015.114 6.6a3.28 3.28 0 001.016 4.382 3.274 3.274 0 01-1.487-.41v.041a3.285 3.285 0 002.633 3.218 3.305 3.305 0 01-1.482.056 3.286 3.286 0 003.066 2.28A6.585 6.585 0 014 17.524 9.291 9.291 0 009.032 19c6.038 0 9.34-5 9.34-9.337 0-.143-.004-.285-.01-.425A6.672 6.672 0 0020 7.538z' fill='%23FFF' fill-rule='evenodd'/%3E%3C/svg%3E") center / 20px no-repeat #00aced;
}

.copy-link .share__link::before {
	background: content-box url("data:image/svg+xml,%3Csvg width='16' height='16' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M4 2a1 1 0 001 1h7.5a.5.5 0 01.5.5v7.497a1 1 0 002 0V3.5A2.5 2.5 0 0012.5 1H5a1 1 0 00-1 1zM2.5 4h8A1.5 1.5 0 0112 5.5v8a1.5 1.5 0 01-1.5 1.5h-8A1.5 1.5 0 011 13.5v-8A1.5 1.5 0 012.5 4zM3 6v7h7V6H3z' fill='%23999'/%3E%3C/svg%3E") center / 16px no-repeat rgba(0, 0, 0, 0.03);
}




/*------------------------------------------------
--- Вариант кнопкой №2: -------------------
------------------------------------------------*/

/*.btn__icon {
}*/

.btn__icon::before {
	content: '';
	display: inline-block;
	background: content-box url("data:image/svg+xml,%3Csvg width='16' height='16' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M14.6 2.9a2.7 2.7 0 01-4.554 1.963L5.303 7.28a2.702 2.702 0 010 1.44l4.743 2.417a2.7 2.7 0 11-.834 1.708l-5.05-2.575a2.7 2.7 0 110-4.54l5.05-2.575A2.7 2.7 0 1114.6 2.9z' fill='%23fff'/%3E%3C/svg%3E") center / 16px no-repeat var(--color-main);
	border-radius: 50px;
	width: 32px;
	height: 32px;
}




/*------------------------------------------------
---------- Вариант списком №3: -------------------
------------------------------------------------*/

.share-list {
	display: flex;
	gap: var(--margin-xs);
}

.share-list__list {
	list-style: none;
	margin: 0;
	padding: 0;
}

.share-list__link::before {
	display: block;
	content: '';
	border-radius: 50px;
	width: 24px;
	height: 24px;
}

.vk-link .share-list__link::before {
	background: content-box url("data:image/svg+xml,%3Csvg viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12.878 17.304c-5.411 0-8.695-3.755-8.823-9.994h2.74c.086 4.583 2.171 6.528 3.77 6.925V7.31h2.627v3.954c1.542-.17 3.155-1.97 3.698-3.954h2.584c-.414 2.441-2.17 4.24-3.412 4.983 1.242.6 3.24 2.17 4.011 5.01h-2.84c-.6-1.898-2.07-3.369-4.04-3.569v3.57h-.315Z' fill='%23fff'/%3E%3C/svg%3E") center / 20px no-repeat #07f;
}

.ok-link .share-list__link::before {
	background: content-box url("data:image/svg+xml,%3Csvg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M14.83 10.77a3.951 3.951 0 0 1-5.604 0 3.951 3.951 0 0 1 0-5.604 3.95 3.95 0 0 1 5.604 0 3.951 3.951 0 0 1 0 5.604Zm-2.802-4.615c-.494 0-.942.2-1.271.53a1.79 1.79 0 0 0 0 2.542 1.789 1.789 0 0 0 2.543 0 1.789 1.789 0 0 0 0-2.543 1.839 1.839 0 0 0-1.272-.53Zm4.168 5.792 1.166 1.59c.059.082.047.188-.036.247-.977.8-2.119 1.33-3.308 1.613l2.249 4.332c.059.13-.024.271-.165.271H13.7a.206.206 0 0 1-.176-.118l-1.496-3.579-1.507 3.567a.181.181 0 0 1-.176.118H7.943c-.141 0-.224-.153-.165-.27l2.249-4.321a8.262 8.262 0 0 1-3.308-1.613c-.071-.06-.095-.177-.036-.248l1.166-1.589c.07-.094.188-.106.27-.035 1.096.93 2.45 1.542 3.898 1.542s2.79-.6 3.897-1.542c.094-.07.223-.06.282.035Z' fill='%23FFF' fill-rule='evenodd'/%3E%3C/svg%3E") center / 20px no-repeat #f70;
}

.twitter-link .share-list__link::before {
	background: content-box url("data:image/svg+xml,%3Csvg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M20 7.539a6.56 6.56 0 01-1.885.517 3.294 3.294 0 001.443-1.816 6.575 6.575 0 01-2.085.796 3.283 3.283 0 00-5.593 2.994A9.32 9.32 0 015.114 6.6a3.28 3.28 0 001.016 4.382 3.274 3.274 0 01-1.487-.41v.041a3.285 3.285 0 002.633 3.218 3.305 3.305 0 01-1.482.056 3.286 3.286 0 003.066 2.28A6.585 6.585 0 014 17.524 9.291 9.291 0 009.032 19c6.038 0 9.34-5 9.34-9.337 0-.143-.004-.285-.01-.425A6.672 6.672 0 0020 7.538z' fill='%23FFF' fill-rule='evenodd'/%3E%3C/svg%3E") center / 20px no-repeat #00aced;
}

.copy-link .share-list__link::before {
	background: content-box url("data:image/svg+xml,%3Csvg width='16' height='16' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M4 2a1 1 0 001 1h7.5a.5.5 0 01.5.5v7.497a1 1 0 002 0V3.5A2.5 2.5 0 0012.5 1H5a1 1 0 00-1 1zM2.5 4h8A1.5 1.5 0 0112 5.5v8a1.5 1.5 0 01-1.5 1.5h-8A1.5 1.5 0 011 13.5v-8A1.5 1.5 0 012.5 4zM3 6v7h7V6H3z' fill='%23999'/%3E%3C/svg%3E") center / 16px no-repeat rgba(0, 0, 0, 0.03);
}


/*------------------------------------------------
---------- Вариант списком №4: -------------------
------------------------------------------------*/

.more-link {
	position: relative;
}

.more-link .share__popup {
	top: 40px;
}

.more-link .share-list__link::before {
	background: content-box url("data:image/svg+xml,%3Csvg width='16' height='16' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M1 8a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0zm5.5 0a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0zm7-1.5a1.5 1.5 0 100 3 1.5 1.5 0 000-3z' fill='%23999'/%3E%3C/svg%3E") center / 16px no-repeat rgba(0,0,0,0.03);
}



/*------------------------------------------------
---------- Нужно дорабоать, пока не придумал: ----
------------------------------------------------*/

/* Анимация для "Скопировать ссылку": */

/*.copy-link a {
	color: var(--color-main);
}

.copy-link .copied {
	color: green;
	animation: fade 2s linear;
}

@keyframes fade {
	from {
		opacity: 1;
	}

	to {
		opacity: 0;
	}
}*/
	</style>

</head>


<body>


	<main>
		<section class="container">

			<h1>Поделиться в соц. сетях</h1>


			<h2>Поделиться №1 – кнопка</h2>

			<div class="share">
				<a class="share__btn btn" href="javascript:void(0);">Поделиться</a>
				<div class="share__popup">
					<ul class="share__list">
						<li class="share__item vk-link"><a class="share__link" href="#" target="_blank" rel="nofollow noopener">ВКонтакте</a></li>
						<li class="share__item ok-link"><a class="share__link" href="#" target="_blank" rel="nofollow noopener">Одноклассники</a></li>
						<li class="share__item twitter-link"><a class="share__link" href="#" target="_blank" rel="nofollow noopener">Twitter</a></li>
						<li class="share__item copy-link"><a class="share__link" href="javascript:void(0);">Скопировать ссылку</a>
						</li>
					</ul>
				</div>
			</div>




			<h2>Поделиться №2 – кнопка с иконкой</h2>

			<div class="share">
				<a class="share__btn btn__icon" href="javascript:void(0);"></a>
				<div class="share__popup">
					<ul class="share__list">
						<li class="share__item vk-link"><a class="share__link" href="#" target="_blank" rel="nofollow noopener">ВКонтакте</a></li>
						<li class="share__item ok-link"><a class="share__link" href="#" target="_blank" rel="nofollow noopener">Одноклассники</a></li>
						<li class="share__item twitter-link"><a class="share__link" href="#" target="_blank" rel="nofollow noopener">Twitter</a></li>
						<li class="share__item copy-link"><a class="share__link" href="javascript:void(0);">Скопировать ссылку</a>
						</li>
					</ul>
				</div>
			</div>




			<h2>Поделиться №3 – список</h2>

			<ul class="share-list">
				<li class="share-list__item vk-link"><a class="share-list__link" href="#" target="_blank" rel="nofollow noopener"></a></li>
				<li class="share-list__item ok-link"><a class="share-list__link" href="#" target="_blank" rel="nofollow noopener"></a></li>
				<li class="share-list__item twitter-link"><a class="share-list__link" href="#" target="_blank" rel="nofollow noopener"></a></li>
				<li class="share-list__item copy-link">
					<!-- <button class="share-list__link" type="button"></button> -->
					<a class="share-list__link" href="javascript:void(0);"></a>
				</li>
			</ul>




			<h2>Поделиться №4 – список-попап</h2>

			<div class="share">
				<ul class="share-list">
					<li class="share-list__item vk-link"><a class="share-list__link" href="#" target="_blank" rel="nofollow noopener"></a></li>
					<li class="share-list__item ok-link"><a class="share-list__link" href="#" target="_blank" rel="nofollow noopener"></a></li>
					<li class="share-list__item more-link">
						<a class="share__btn share-list__link" href="javascript:void(0);"></a>
						<div class="share__popup">
							<ul class="share__list">
								<li class="share__item twitter-link"><a class="share__link" href="#" target="_blank" rel="nofollow noopener">Twitter</a></li>
								<li class="share__item copy-link">
									<a class="share__link" href="javascript:void(0);">Скопировать ссылку</a>
								</li>
							</ul>
						</div>
					</li>
				</ul>
			</div>

		</section>

	</main>


	<div style="height: 100vh;"></div>


	<!-- Скрипт компонента поделиться: -->
	<script>
		// Выбираем элементы страницы:
		const shareBtn = document.querySelectorAll('.share__btn');
		const sharePopup = document.querySelectorAll('.share__popup');
		const copyLinkBtn = document.querySelectorAll('.copy-link a');
		const vkLink = document.querySelectorAll('.vk-link a');
		const okLink = document.querySelectorAll('.ok-link a');
		const twitterLink = document.querySelectorAll('.twitter-link a');

		// Добавляем обработчик события click для кнопки "Поделиться":
		shareBtn.forEach((btn, index) => {
			btn.addEventListener('click', (event) => {
				sharePopup[index].classList.toggle('show');
				event.stopPropagation();
			});
		});

		// Добавляем обработчик события click для ссылки "Скопировать ссылку":
		copyLinkBtn.forEach((btn) => {
			btn.addEventListener('click', () => {
				const currentUrl = window.location.href;// получаем текущий URL страницы.
				navigator.clipboard.writeText(currentUrl);// копируем текущий URL в буфер обмена.
			});
		});

		// Добавляем обработчик события click для элемента document:
		document.addEventListener('click', (event) => {
			sharePopup.forEach((popup) => {
				if (!popup.contains(event.target)) {
					popup.classList.remove('show');
				}
			});
		});

		// Получаем текущий URL и заголовок страницы:
		const currentUrl = window.location.href;
		const currentTitle = document.title;

		// Функция для добавления адреса социальной сети к каждой ссылке:
		function addSocialLinks(links, socialUrl) {
			links.forEach((link) => {
				link.href = socialUrl;
			});
		}

		// Создаем URL-адреса для каждой социальной сети:
		addSocialLinks(vkLink, `https://vk.com/share.php?url=${encodeURIComponent(currentUrl)}&title=${encodeURIComponent(currentTitle)}`);
		addSocialLinks(okLink, `https://vk.com/share.php?url=${encodeURIComponent(currentUrl)}&title=${encodeURIComponent(currentTitle)}`);
		addSocialLinks(twitterLink, `https://twitter.com/intent/tweet?url=${encodeURIComponent(currentUrl)}&text=${encodeURIComponent(currentTitle)}`);

		// Функция обработки ссылок:
		function linksHandler(social) {
			social.forEach((link) => {
				link.addEventListener('click', openShareWindow);
			});
		}

		// Обработка события click для каждой ссылки:
		linksHandler(vkLink);
		linksHandler(okLink);
		linksHandler(twitterLink);

		// Функция для открытия нового окна при нажатии на ссылку:
		function openShareWindow(event) {
			const url = event.target.href;// получаем URL-адрес ссылки.

			// Вычисляем координаты центра экрана:
			const left = (screen.width / 2) - (600 / 2);
			const top = (screen.height / 2) - (400 / 2);

			window.open(url, 'shareWindow', `width=600,height=400,left=${left},top=${top}`);// открываем новое окно с указанным URL-адресом.
			event.preventDefault();// отменяем действие по умолчанию для ссылки.
		}

	</script>


</body>

</html>
